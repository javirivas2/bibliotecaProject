<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Ver Copias por Libro</title>
</head>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
	crossorigin="anonymous">
<body>
	<div th:insert="~{headertemplate :: header}"></div>

	<div class="container text-center mt-5"></div>

	<div class="row m-2 mt-5 text-center">
		<div class="col-8">
			<h1>Copias del Libro</h1>

		</div>
		<div class="row">
			<div class="mt-5 justify-content-around">

				<table class="table table-striped table-responsive-md">
					<thead class="text-center mt-5">
						<tr>
							<th class="text-center">Título del Libro: <span
								class="m-4 text-uppercase" th:text="${libro.titulo}"></span></th>
						</tr>
					</thead>
					<tbody class="text-center mt-5">
						<tr class="table-dark">
							<td>ID</td>
							<td>Estado</td>
							<td></td>
							<td></td>

						</tr>
					</tbody>
					<tbody class="text-center mt-5">
						<!-- Iterar sobre las copias del libro -->
						<th:block th:each="copia : ${copias}">
							<tr>
								<td th:text="${copia.Id}"></td>
								<td th:text="${copia.estadoCopia}"></td>
								<td>
								 <!-- Enlace o botón para cambiar el estado -->
								<a th:href="@{/libros/{idLibro}/cambioestado/{idCopia}(idLibro=${libro.id}, idCopia=${copia.Id})}" class="btn btn-secondary">Cambiar estado</a>
								</td>
								<td></td>
							</tr>
						</th:block>
					</tbody>
					<tfoot >
						<tr>
							<td colspan="2"><a class="btn btn-danger"
								th:href="@{/verLibros}">Volver a la Lista de Libros</a></td>
<!-- 							 <td> -->
<!-- 															 th:href="@{/libros/{idLibro}/cambioestado/{idCopia}(idLibro=${libro.Id},idCopia=${copia.Id})}" -->
<!-- 															th:href="@{'cambioestadocopia.html?id=' + ${copia.Id}}" -->
<!-- 							<a -->
<!-- 								class="btn btn-dark text-center mt-2 ml-3 mb-3">Cambiar -->
<!-- 									estado</a></td>  -->
							<td><a
								th:href="@{/libros/{id}/insertarcopia(id=${libro.id})}"
								class="btn btn-success text-center mt-2 ml-3 mb-3">Añadir
									copia</a></td>
						</tr>
					</tfoot>
				</table>
			</div>
		</div>


	</div>

	<div th:insert="~{footertemplate :: footer}"></div>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
		crossorigin="anonymous"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js"
		integrity="sha384-zYPOMqeu1DAVkHiLqWBUTcbYfZ8osu1Nd6Z89ify25QV9guujx43ITvfi12/QExE"
		crossorigin="anonymous"></script>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.min.js"
		integrity="sha384-Y4oOpwW3duJdCWv5ly8SCFYWqFDsfob/3GkgExXKV4idmbt98QcxXYs9UoXAB7BZ"
		crossorigin="anonymous"></script>
</body>
</html>